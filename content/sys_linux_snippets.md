# Полезные рецепты для linux

[linux](./meta_linux.md)

[системное администрирование](./meta_sistemnoe_administrirovanie.md)

[snippets](./meta_snippets.md)

1. [Конвертация текста из cp866](#Конвертация-текста-из-cp866)
1. [Пинг с метками времени](#Пинг-с-метками-времени)

## Конвертация текста из cp866

При переносе данных между терминалами/процессами/виртуальными машинами можно
иногда получить кракозябры из-за различия кодировок.

Получить вменяемый текст можно вот таким способом:

```shell
echo '╧Ёшёюхфшэхээюх ъ ёшёЄхьх єёЄЁющёЄтю эх ЁрсюЄрхЄ. ' | iconv -f utf8 -t cp866 | iconv -f cp1251 -t utf8
```

```shell
Присоединенное к системе устройство не работает.
```

## Пинг с метками времени

Иногда бывает необходимо видеть метки времени при выполнении ping. Рецепт для
CentOS.

```shell
ping www.google.fr | bash -c 'trap "" INT; awk "{print strftime(\"%Y-%m-%d %H:%M:%S - \") \$0}"'
```
