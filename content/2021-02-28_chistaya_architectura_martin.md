# Чистая архитектура, Роберт Мартин

Книга обобщает опыт Мартина по проектированию компьютерных систем. В ней нет
конкретного описания паттернов проектирования и буквальных инструментов работы
над архитектурой. Вместо этого автор обобщает весь свой опыт в описании
специфической схемы построения приложений.

![cover](./2021-02-28_chistaya_architectura_martin.jpg)

[книги по программированию](./meta_knigi_po_programmirovaniy.md)

[программирование](./meta_programmirovanie.md)

[книги](./meta_knigi.md)

### О чём книга

Основная идея в том, что есть набор правил и подходов, которые должны
ограничивать разработчика и дробить систему на набор компонентов. Каждый из
компонентов должен иметь ограниченное знание о соседях и граф зависимостей
всегда должен быть направлен внутрь системы. Внутри должны быть наиболее
абстрактные элементы, соответствующие бизнес логике. Снаружи должны быть
наиболее конкретные компоненты, например веб фреймворки и базы данных.

Если описывать систему изнутри, то порядок будет такой:

1. Сущности — компоненты реализующие чистую бизнес логику и ничего не знающие
   об объектах внешнего мира и даже о приложении в котором они живут.
2. Варианты использования — компоненты, знающие особенности приложения и
   умеющие общаться с сущностями, но ничего не знающими про внешний мир.
3. Контроллеры/шлюзы/презентаторы — компоненты, способные выполнять
   преобразование между данными из внешнего мира и внутренними типами данных
   системы.
4. Интерфейсы, базы данных, веб фреймворки — внешние компоненты, выполняющие
   черновую работу. Предполагается, что их можно поменять в любой момент на
   другие.

Все мысли в книге крутятся вокруг идеи о том, что нельзя позволять часто
меняющимся компонентам тащить за собой ворох последствий для окружающих их
компонентов системы. Для этого происходит инверсия зависимостей, на границах
уровней предусмотрены шлюзы, пропускающие только данные примитивных типов, все
связи жёстко ограничены.

Чтобы книгу нормально понять, надо иметь опыт работы с системами, в которых эти
принципы не соблюдаются, модели конкретного ORM базы данных пронизывают всё
приложение снизу доверху, а изменение формы в пользовательском интерфейсе
ломает логику принятия решений внутри программы.

Конкретно по главам нет смысла делать описание, но читать книгу лучше всё-же
последовательно. Паттерны проектирования для понимания не нужны, но SOLID
представлять желательно ещё до прочтения. Вообще автор описывает все
необходимые для понимания компоненты, но, как мне кажется, без соответствующего
опыта в разработке волна новых концепций может похоронить читателя под собой.

Ну и главная причина, почему такую книгу не стоит читать новичкам — им будет
непонятно зачем вообще устраивать все эти странные ритуалы, когда приложения
нормально работают и без них.
